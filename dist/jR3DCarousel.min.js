/**
 * Author: Vinayak Rangnathrao Jadhav
 * Project: jR3DCarousel
 * Version: 0.0.7
 **/
(function(g){"function"===typeof define&&define.amd?define(["jquery"],g):"object"===typeof exports?module.exports=g(require("jquery")):g(jQuery)})(function(g){g.fn.jR3DCarousel=function(y){function w(){this.animations={slide:A,slide3D:B,scroll:C,scroll3D:D,fade:E}}function A(a){c.css({perspective:"",overflow:"hidden"});b=f*a;h.css({transform:"translateZ("+-d+"px) rotateY("+-b+"deg)"});u()}function B(a){c.css({perspective:k,overflow:"visible"});b=f*a;h.css({transform:"translateZ("+-d+"px) rotateY("+
-b+"deg)"});u()}function C(a){c.css({perspective:"",overflow:"hidden"});b=f*a;h.css({transform:"translateZ("+-d+"px) rotateX("+-b+"deg)"});u()}function D(a){c.css({perspective:k,overflow:"visible"});b=f*a;h.css({transform:"translateZ("+-d+"px) rotateX("+-b+"deg)"});u()}function E(g){h.css({transition:"opacity "+a.animationDuration+"ms "+a.animationCurve,opacity:0});c.find(".nav").css({backgroundColor:"rgba(255, 255, 255, 0.77)"}).eq(m%e).css({backgroundColor:"rgba(0, 0, 0, 1)"});clearTimeout(k);var k=
setTimeout(function(){b=f*g;h.css({transform:"translateZ("+-d+"px) rotateY("+-b+"deg)",opacity:1});l=(Math.round(b/f)-1)%e;a.onSlideShow.call(this,h.find("."+a.slideClass).eq((l+1)%e))},a.animationDuration)}function u(){c.find(".nav").css({backgroundColor:"rgba(255, 255, 255, 0.77)"}).eq(m%e).css({backgroundColor:"rgba(0, 0, 0, 1)"});l=(Math.round(b/f)-1)%e;a.onSlideShow.call(this,h.find("."+a.slideClass).eq((l+1)%e))}function z(){c.width("100%");n=c.width()<a.width?c.width():a.width;t=n/G;c.css({width:n+
"px",height:t+"px"});-1!=a.animation.indexOf("slide")?(d=n/2/Math.tan(Math.PI/e),k=n/2*Math.tan(2*Math.PI/e)+"px"):-1!=a.animation.indexOf("scroll")?(d=t/2/Math.tan(Math.PI/e),k=t/2*Math.tan(2*Math.PI/e)+"px"):"fade"==a.animation&&(d=n/2/Math.tan(Math.PI/e),k=n/2*Math.tan(2*Math.PI/e)+"px");c.find("."+a.slideClass).each(function(c){var e=g(this);-1!=a.animation.indexOf("slide")?p="rotateY("+f*c+"deg) translateZ("+d+"px)":-1!=a.animation.indexOf("scroll")?p="rotateX("+f*c+"deg) translateZ("+d+"px)":
"fade"==a.animation&&(p="rotateY("+f*c+"deg) translateZ("+d+"px)");e.css({transform:p})});k=a.perspective||k;h.css({transform:"translateZ("+-d+"px) rotateY("+-b+"deg)"});c.css({perspective:k})}var a=g.extend(!0,{},{width:1349,height:668,slides:[],slideLayout:"fill",perspective:0,animation:"slide3D",animationCurve:"ease",animationDuration:700,animationInterval:2E3,autoplay:!0,controls:!0,slideClass:"jR3DCarouselSlide",navigation:"circles",onSlideShow:function(){}},y),c=this,n=a.width,t=a.height,G=
a.width/a.height,h=g("<div class='jR3DCarousel' />").css({width:"100%",height:"100%",transition:"transform "+a.animationDuration+"ms "+a.animationCurve,transformStyle:"preserve-3d"}).appendTo(c),l=0,m=1,v=new w,q,r,x,f,b=0,d,k,p,e=a.slides.length||c.find("."+a.slideClass).length;(function(){function F(){q=g("<div class='previous controls' style='left: 8px; transform: rotate(-45deg);'></div>");r=g("<div class='next controls' style='right: 8px; transform: rotate(135deg);'></div>");q.add(r).appendTo(c).css({position:"absolute",
top:"42%",zIndex:1,display:"inline-block",padding:"1.2em",boxShadow:"2px 2px 0 rgba(255,255,255,0.9) inset",cursor:"pointer"}).hide();q.on("click",function(){l=Math.round(b/f);m=l-1;v.run(a.animation,m)});r.on("click",function(){l=Math.round(b/f);m=l+1;v.run(a.animation,m)});c.on("mouseenter touchstart",function(){q.add(r).fadeIn()}).on("mouseleave touchcancel",function(){q.add(r).fadeOut()});u(c,function(c){clearInterval(x);"left"==c?r.click():"right"==c?q.click():-1!=a.animation.indexOf("scroll")&&
("down"==c?r.click():"up"==c&&q.click())})}function u(a,c){var e,f,d,b,g,h,k,l=c||function(a){};a.on("touchstart",function(a){a=a.originalEvent.changedTouches[0];e="none";dist=0;f=a.pageX;d=a.pageY;k=(new Date).getTime()}).on("touchmove",function(a){a.preventDefault()}).on("touchend",function(a){a=a.originalEvent.changedTouches[0];b=a.pageX-f;g=a.pageY-d;h=(new Date).getTime()-k;700>=h&&(20<=Math.abs(b)&&100>=Math.abs(g)?e=0>b?"left":"right":20<=Math.abs(g)&&100>=Math.abs(b)&&(e=0>g?"up":"down"));
l(e)})}function w(){for(var f=a.navigation,d=g("<div class=navigation />").css({position:"absolute",bottom:0,right:0}),b=0;b<e;b++)d.append("<div class=nav></div>");"circles"==f&&d.find(".nav").css({borderRadius:"12px"});d.find(".nav").css({display:"inline-block",margin:"5px",cursor:"pointer",backgroundColor:"rgba(255, 255, 255, 0.77)",width:"12px",height:"12px"}).first().css({backgroundColor:"rgba(0, 0, 0, 1)"});h.after(d);c.on("click",".nav",function(){m=g(this).index();v.run(a.animation,m)})}function y(){x=
setInterval(function(){l=Math.round(b/f);m=l+1;v.run(a.animation,m)},a.animationInterval+a.animationDuration);c.hover(function(){clearInterval(x)},function(){x=setInterval(function(){l=Math.round(b/f);m=l+1;v.run(a.animation,m)},a.animationInterval+a.animationDuration)})}(function(){-1!=a.animation.indexOf("slide")?(d=n/2/Math.tan(Math.PI/e),k=n/2*Math.tan(2*Math.PI/e)+"px"):-1!=a.animation.indexOf("scroll")?(d=t/2/Math.tan(Math.PI/e),k=t/2*Math.tan(2*Math.PI/e)+"px"):"fade"==a.animation&&(d=n/2/
Math.tan(Math.PI/e),k=n/2*Math.tan(2*Math.PI/e)+"px");f=360/e;if(a.slides.length)for(var b=0;b<a.slides.length;b++){var l=g("<div class='jR3DCarouselSlide' data-index="+b+" />").append("<img src='"+a.slides[b].src+"' alt='"+a.slides[b].alt+"' />");-1!=a.animation.indexOf("slide")?p="rotateY("+f*b+"deg) translateZ("+d+"px)":-1!=a.animation.indexOf("scroll")?p="rotateX("+f*b+"deg) translateZ("+d+"px)":"fade"==a.animation&&(p="rotateY("+f*b+"deg) translateZ("+d+"px)");l.css({transform:p});h.append(l)}else c.find("."+
a.slideClass).each(function(b){var c=g(this).attr("data-index",b);-1!=a.animation.indexOf("slide")?p="rotateY("+f*b+"deg) translateZ("+d+"px)":-1!=a.animation.indexOf("scroll")?p="rotateX("+f*b+"deg) translateZ("+d+"px)":"fade"==a.animation&&(p="rotateY("+f*b+"deg) translateZ("+d+"px)");c=c.css({transform:p}).detach();h.append(c)});h.find("."+a.slideClass).css({position:"absolute",left:0,top:0,width:"100%",height:"100%",backfaceVisibility:"hidden"}).find("img").css({width:"100%",height:"100%",objectFit:a.slideLayout});
k=a.perspective||k;c.css({perspective:k,width:n+"px",height:t+"px",position:"relative",overflow:"visible"})})();a.controls&&F();a.navigation&&w();a.autoplay&&y();addEventListener("resize",z);z()})();w.prototype.run=function(a,b){this.animations[a](b)};this.showSlide=function(a){h.find(".nav").eq((a-1)%e).click()};this.getCurrentSlide=function(){return h.find("."+a.slideClass).eq(l)};this.getSlideByIndex=function(b){return h.find("."+a.slideClass+"[data-index="+b+"]")};this.showPreviousSlide=function(){q.click()};
this.showNextSlide=function(){r.click()};return this}});